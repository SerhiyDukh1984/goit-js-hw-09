{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,QAChCC,EAAeH,EAAOI,SAASC,MAC/BC,EAASN,EAAOI,SAASG,KACzBC,EAAWR,EAAOI,SAASK,OAC3BC,EAAWT,SAASC,cAAc,UAExCQ,EAASC,iBAAiB,SAK1B,SAAuBC,GACrBF,EAASG,UAAW,EACpBD,EAAEE,iBACFC,EAAQC,OAAOb,EAAac,OAE5B,IAAK,IAAIC,EAAI,EAAGA,GAAKV,EAASS,MAAOC,GAAK,EAExCC,EADWD,EACaH,GAAOK,KAAKC,GAAWC,MAAMC,GACrDR,GAASC,OAAOV,EAAOW,UAX3B,IAAIF,EAAQ,EAiBZ,SAASM,EAAUG,G,IAAEC,EAAFD,EAAEE,SAAUC,EAAZH,EAAYnB,MAC7BuB,QAAQC,IAAI,uBAAwCC,OAAfL,EAAS,QAAYK,OAANH,EAAM,OAE5D,SAASJ,EAAQC,G,IAAEO,EAAFP,EAAEE,SAAUM,EAAZR,EAAYnB,MAC3BuB,QAAQC,IAAI,sBAAuCC,OAAfC,EAAS,QAAYD,OAANE,EAAM,OAG3D,SAASb,EAAcc,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,UAAYC,YAAW,WACrB,IAAMC,EAAgBC,KAAKC,SAAW,GAItC,OAFAC,QAAU,EAENH,GACFJ,EAAQ,uBAAwCN,OAAfG,EAAS,QAAYH,OAANI,EAAM,OAC/C,CAAER,SAAAO,EAAU5B,MAAA6B,KAEnBG,EAAO,sBAAqCP,OAAfG,EAAS,QAAYH,OAANI,EAAM,OAC3C,CAAER,SAAAO,EAAU5B,MAAA6B,MAEpBA,MAvBPxB,EAASG,UAAW,E","sources":["src/js/03-promises.js"],"sourcesContent":["const formEl = document.querySelector('form');\nconst firstDelayEl = formEl.elements.delay;\nconst stepEl = formEl.elements.step;\nconst amountEl = formEl.elements.amount;\nconst buttonEl = document.querySelector('button');\n\nbuttonEl.addEventListener('click', onButtonClick);\n\nlet delay = 0;\nlet position = 0;\n\nfunction onButtonClick(e) {\n  buttonEl.disabled = true;\n  e.preventDefault();\n  delay = Number(firstDelayEl.value);\n\n  for (let i = 1; i <= amountEl.value; i += 1) {\n    position = i;\n    createPromise(position, delay).then(onSuccess).catch(onError);\n    delay += Number(stepEl.value);\n  }\n}\n\nbuttonEl.disabled = false;\n\nfunction onSuccess({ position, delay }) {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\nfunction onError({ position, delay }) {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    timeoutId = setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      counter = +1;\n\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        return { position, delay };\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n        return { position, delay };\n      }\n    }, delay);\n  });\n}\n"],"names":["$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$firstDelayEl","elements","delay","$ce04d3a99e08e73b$var$stepEl","step","$ce04d3a99e08e73b$var$amountEl","amount","$ce04d3a99e08e73b$var$buttonEl","addEventListener","e","disabled","preventDefault","$ce04d3a99e08e73b$var$delay","Number","value","i","$ce04d3a99e08e73b$var$createPromise","then","$ce04d3a99e08e73b$var$onSuccess","catch","$ce04d3a99e08e73b$var$onError","param","position1","position","delay1","console","log","concat","position2","delay2","position3","delay3","Promise","resolve","reject","timeoutId","setTimeout","shouldResolve","Math","random","counter"],"version":3,"file":"03-promises.c86534bf.js.map"}