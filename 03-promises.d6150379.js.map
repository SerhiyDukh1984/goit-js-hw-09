{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,QAChCC,EAAeH,EAAOI,SAASC,MAC/BC,EAASN,EAAOI,SAASG,KACzBC,EAAWR,EAAOI,SAASK,OAC3BC,EAAWT,SAASC,cAAc,UAExCQ,EAASC,iBAAiB,SAK1B,SAAuBC,GACrBF,EAASG,UAAW,EACpBD,EAAEE,iBACFC,EAAQC,OAAOb,EAAac,OAE5B,IAAK,IAAIC,EAAI,EAAGA,GAAKV,EAASS,MAAOC,GAAK,EACxCC,EAAWD,EACXE,EAAcD,EAAUJ,GAAOM,KAAKC,GAAWC,MAAMC,GACrDT,GAASC,OAAOV,EAAOW,UAX3B,IAAIF,EAAQ,EACRI,EAAW,EAgBf,SAASG,GAAYG,SAAAC,EAAUrB,MAAAsB,IAC7BC,QAAQC,IAAI,uBAAqBH,QAAiBC,OAEpD,SAASH,GAAUC,SAAAK,EAAUzB,MAAA0B,IAC3BH,QAAQC,IAAI,sBAAoBC,QAAiBC,OAGnD,SAASX,EAAcY,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,UAAYC,YAAW,KACrB,MAAMC,EAAgBC,KAAKC,SAAW,GAItC,OAFAC,QAAU,EAENH,GACFJ,EAAQ,uBAAqBH,QAAiBC,OACvC,CAAER,SAAAO,EAAU3B,MAAA4B,KAEnBG,EAAO,sBAAoBJ,QAAeC,OACnC,CAAER,SAAAO,EAAU3B,MAAA4B,MAEpBA,MAvBPvB,EAASG,UAAW","sources":["src/js/03-promises.js"],"sourcesContent":["const formEl = document.querySelector('form');\nconst firstDelayEl = formEl.elements.delay;\nconst stepEl = formEl.elements.step;\nconst amountEl = formEl.elements.amount;\nconst buttonEl = document.querySelector('button');\n\nbuttonEl.addEventListener('click', onButtonClick);\n\nlet delay = 0;\nlet position = 0;\n\nfunction onButtonClick(e) {\n  buttonEl.disabled = true;\n  e.preventDefault();\n  delay = Number(firstDelayEl.value);\n\n  for (let i = 1; i <= amountEl.value; i += 1) {\n    position = i;\n    createPromise(position, delay).then(onSuccess).catch(onError);\n    delay += Number(stepEl.value);\n  }\n}\n\nbuttonEl.disabled = false;\n\nfunction onSuccess({ position, delay }) {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\nfunction onError({ position, delay }) {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    timeoutId = setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      counter = +1;\n\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        return { position, delay };\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n        return { position, delay };\n      }\n    }, delay);\n  });\n}\n"],"names":["$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$firstDelayEl","elements","delay","$47d4ff9957288465$var$stepEl","step","$47d4ff9957288465$var$amountEl","amount","$47d4ff9957288465$var$buttonEl","addEventListener","e","disabled","preventDefault","$47d4ff9957288465$var$delay","Number","value","i","$47d4ff9957288465$var$position","$47d4ff9957288465$var$createPromise","then","$47d4ff9957288465$var$onSuccess","catch","$47d4ff9957288465$var$onError","position","position1","delay1","console","log","position2","delay2","position3","delay3","Promise","resolve","reject","timeoutId","setTimeout","shouldResolve","Math","random","counter"],"version":3,"file":"03-promises.d6150379.js.map"}